#  实验十  软件体系结构设计（二）#
#  #
##实验目的： ##
1. 给项目添加提高质量属性的设计  
2. 体系结构风格和视图特点
3. 练习故障树分析
4. 研究经典软件体系结构案例
5. 继续补充和修改自己项目的SAD

## 实验内容： ##

一、学习、检索课本5.17参考文献及以下推荐的参考书或网上检索新的有关软件体系结构的资料。小组分工，每位成员选择自己关注的部分专题学习并写出学习报告（笔记）（附到最终提交的SAD）。 

(一)基于组件的体系结构（Component-Based Architecture）- 潘云增

基于组件的体系结构（Component-Based Architecture）是一种软件架构设计方法，它将软件系统划分为多个互相独立的组件，并且这些组件之间具有明确的接口和协议。这种设计方法的目的是提高软件的可重用性、可维护性、可测试性和可扩展性，以及降低软件开发的成本和周期。

组件是指软件系统中的一个独立的部分，它可以是一个模块、一个模板、一个库或者一个对象。

1、组件具有以下特点：

（1）独立性：组件是一个独立的部分，它可以被单独开发、测试、部署和维护。

（2）可重用性：组件可以被多个系统或者应用程序复用，降低了软件开发的成本和周期。

（3）易于替换：组件之间的关系是松散耦合的，可以很容易地替换一个组件而不影响整个系统。

（4）易于测试：组件具有清晰的接口和协议，可以很容易地测试其功能和性能。

（5）易于扩展：组件可以很容易地扩展和修改，以满足新的需求和功能。

2、组件的分类

组件可以按照不同的角度进行分类，如下：

（1）按照领域分类：如界面组件、数据访问组件、业务逻辑组件等。

（2）按照功能分类：如认证组件、日志组件、缓存组件等。

（3）按照复用粒度分类：如大型组件、中型组件、小型组件等。

（4）按照部署方式分类：如本地组件、远程组件、Web服务组件等。

3、基于组件的体系结构的设计方法包括以下步骤：

（1）划分系统：将软件系统按照功能和模块划分为多个组件。

（2）定义接口：为每个组件定义清晰的接口和协议，以保证组件之间的互操作性。

（3）实现组件：开发每个组件的实现代码，并且测试其功能和性能。

（4）集成组件：将所有的组件集成到一个整体系统中，并且测试整个系统的功能和性能。

（5）维护和更新：对组件进行维护和更新，以满足新的需求和功能。

4、基于组件的体系结构具有以下优点：

（1）可重用性：组件可以被多个系统或者应用程序复用，降低了软件开发的成本和周期。

（2）易于维护：组件之间的关系是松散耦合的，可以很容易地替换一个组件而不影响整个系统。

（3）易于测试：组件具有清晰的接口和协议，可以很容易地测试其功能和性能。

（4）易于扩展：组件可以很容易地扩展和修改，以满足新的需求和功能。

（5）可靠性：组件之间的关系是松散耦合的，可以很容易地发现和解决问题。

5、基于组件的体系结构的缺点包括：

（1）接口设计：为每个组件定义清晰的接口和协议需要大量的设计和分析工作。

（2）集成测试：将所有的组件集成到一个整体系统中需要进行大量的测试工作。

（3）性能问题：如果组件之间的通信过于频繁，可能会影响系统的性能。

（4）组件的选择：选择组件需要考虑组件的质量、可靠性、可重用性和性能等因素。

6、
组件内部是强内聚,组件之间是松耦合,通过粘合部件可以将用户所需的组件找到(本机或者网络上)并临时装配成一个全新的应用软件从而来满足特殊用户的特殊需求,下图就是一个基于组件技术的软件体系结构示意图：

![](https://github.com/yz1108/jpgs/blob/main/1.png)

(二) MVC体系结构（Model-View-Controller Architecture）- 陆荣周
      
MVC体系结构（Model-View-Controller Architecture）：将软件系统划分为模型（Model）、视图（View）和控制器（Controller）三个部分，模型负责处理数据逻辑，视图负责用户界面展示，控制器负责协调模型和视图之间的交互。

1. 模型（Model）：负责存储系统的中心数据。
2. 视图（View）：将信息显示给用户（可以定义多个视图）。
3. 控制器（Controller）：处理用户输入的信息。负责从视图读取数据，控制用户输入，并向模型发送数据，是应用程序中处理用户交互的部分。负责管理与用户交互交互控制。
      
视图和控制器共同构成了用户接口。而且每个视图都有一个相关的控制器组件。控制器接受输入，通常作为将鼠标移动、鼠标按钮的活动或键盘输入编码的时间。时间被翻译成模型或试图的服务器请求。用户仅仅通过控制器与系统交互。

![](https://github.com/yz1108/jpgs/blob/main/2.png)

实现一种动态的程序设计，是后序对程序的修改和扩展简化，并且使程序某一部分的重复利用称为可能。通过对复杂度的简化，使程序结构更加直观。将信息的内部表示与信息的呈现方式分离开来，并接受用户的请求。它分离了组件，并允许有效的代码重用。即，将模型和视图的实现代码分离，从而使同一个程序可以使用不同的表现形式。比如一批统计数据你可以分别用柱状图、饼图来表示。C存在的目的则是确保模型和视图的同步，一旦模型改变，视图应该同步更新

同时MVC体系结构实现了两种分离：

1、视图和数据模型的分离：使用不同的视图对相同的数据进行展示；分离可视和不可视的组件，能够对模型进行独立测试。因为分离了可视组件减少了外部依赖利于测试。（数据库也是一种外部组件）

2、视图和表现逻辑(Controller)的分离：Controller是一个表现逻辑的组件，并非一个业务逻辑组件。MVC可以作为表现模式也可以作为建构模式，意味这Controller也可以是业务逻辑。分离逻辑和具体展示，能够对逻辑进行独立测试。

优点：耦合性低；重用性高；生命周期成本低；部署快；可维护性高；有利软件工程化管理。

缺点：没有明确的定义；不适合小型，中等规模的应用程序；增加系统结构和实现的复用性；视图与控制器间的过于紧密的连接；视图对模型数据的低效率访问；一般高级的界面工具或构造器不支持模式。

（三） 基于微服务的体系结构 (Microservices Architecture) - 王晓明
基于微服务的体系结构是一种软件架构模式，它将一个大型的应用程序拆分成多个较小的、可独立部署的服务。每个服务都拥有自己的数据存储、业务逻辑和用户界面等组件，可以独立地进行开发、测试、部署和扩展。这种体系结构具有高度的灵活性、可伸缩性和可维护性，适用于大型、复杂的应用程序。

以下是基于微服务的体系结构的主要特点：

1. 拆分为多个服务：将一个大型的应用程序拆分为多个较小的、可独立部署的服务。每个服务都有自己的数据存储、业务逻辑和用户界面等组件，可以独立地进行开发、测试、部署和扩展。
2. 松散耦合：各个服务之间采用松散耦合的方式进行通信，例如使用 RESTful API、消息队列等。这样可以使得每个服务都能够独立地进行开发和部署，而不会受到其他服务的影响。
3. 独立部署：每个服务都可以独立地进行部署，这意味着可以更容易地进行版本更新和升级。
4. 自动化部署：基于微服务的体系结构通常使用自动化部署工具，例如容器化技术（如 Docker）和容器编排工具（如 Kubernetes），以便更快地进行部署和扩展。
5. 多语言支持：各个服务可以使用不同的编程语言和技术栈，这样可以更好地满足开发人员的需求。
6. 可伸缩性：由于每个服务都可以独立地进行部署和扩展，因此可以更容易地实现应用程序的伸缩性。

基于微服务的体系结构具有许多优点，例如更好的可维护性、灵活性和可扩展性，但也存在一些挑战，例如服务间的通信、服务的管理和监控等。因此，在实现基于微服务的体系结构时，需要仔细考虑这些挑战，并选择适当的工具和技术来解决它们。

下图是单服务与微服务的对比图：

![](https://github.com/yz1108/jpgs/blob/main/3.png)

（四）基于分层体系结构（Layered Architecture）- 孙鑫
分层体系结构是一种常用的软件系统设计模式，将系统划分为多个层次结构，每个层次结构有特定的责任和功能。分层体系结构的目标是实现松耦合设计，使各层之间的依赖性最小化，从而使系统更易于维护和扩展。每个层次结构只与相邻的层次结构交互，并通过明确定义的接口进行通信，这些接口通常由标准协议和数据格式定义。分层体系结构的优点包括：

1. 易于维护和扩展：分层体系结构的松耦合设计使得每个层次结构可以独立地开发、测试和维护，从而提高了软件系统的可维护性和可扩展性。
2. 提高可重用性：由于每个层次结构只与相邻的层次结构交互，因此可以更容易地将一个层次结构从一个系统中提取出来并用于另一个系统中。
3. 提高可靠性：分层体系结构可以提供额外的安全层，以确保系统的稳定性和安全性。
4. 提高效率：分层体系结构的每个层次结构都专注于自己的任务，这可以提高整个系统的效率和性能。

比较常见的分层体系结构包括OSI（开放系统互连）模型、TCP/IP协议栈、MVC（模型-视图-控制器）模式等。


二、对比书上各种软件体系结构风格和视图特点，思考自己项目属于哪种设计风格？
  
分层软件体系结构风格

三、 第五章课后习题14，故障树转割集树练习。
   
针对自己项目分析、描绘故障树，分解为割集树 （附到最终提交的SAD）。

1、故障树

![](https://ex03u2aphhe.feishu.cn/docx/Q5opdQpjwoIJk6x3X4PcQcGunuf#KGW0dIoGKoOOwix895Hc6y7Znvf)

2、割集树

![](https://ex03u2aphhe.feishu.cn/docx/Q5opdQpjwoIJk6x3X4PcQcGunuf#X464d84CCo46IMxIXQncdkHknlg)

四、 参阅课本和网上资料，研究经典软件体系结构案例KWIC。
   An Introduction to Software Architecture，4.1节
针对KWIC和自己项目，参考课本ch5 表5-3，小组成员每人给几种不同的体系结构风格设计打分，评最佳。

（一）KWIC

属性&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;优先级    共享数据    数据抽象    隐含调用    管道和过滤器

易于改变算法&emsp;&emsp;&emsp;&emsp;1&emsp;&emsp;&emsp;1&emsp;&emsp;&emsp;2&emsp;&emsp;&emsp;&emsp;4&emsp;&emsp;&emsp;&emsp;5

易于改变数据表示&emsp;&emsp;4&emsp;&emsp;&emsp;1&emsp;&emsp;&emsp;5&emsp;&emsp;&emsp;&emsp;4&emsp;&emsp;&emsp;&emsp;1

易于改变功能&emsp;&emsp;&emsp;&emsp;3&emsp;&emsp;&emsp;4&emsp;&emsp;&emsp;1&emsp;&emsp;&emsp;&emsp;3&emsp;&emsp;&emsp;&emsp;5

好的性能&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;3&emsp;&emsp;&emsp;4&emsp;&emsp;&emsp;3&emsp;&emsp;&emsp;&emsp;3&emsp;&emsp;&emsp;&emsp;5

有效的数据表示&emsp;&emsp;&emsp;3&emsp;&emsp;&emsp;5&emsp;&emsp;&emsp;5&emsp;&emsp;&emsp;&emsp;5&emsp;&emsp;&emsp;&emsp;1

易于复用&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;5&emsp;&emsp;&emsp;1&emsp;&emsp;&emsp;4&emsp;&emsp;&emsp;&emsp;5&emsp;&emsp;&emsp;&emsp;4

总计&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;/&emsp;&emsp;&emsp;49&emsp;&emsp;&emsp;69&emsp;&emsp;&emsp;78&emsp;&emsp;&emsp;62


（二）博客系统项目

属性&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;优先级    共享数据    数据抽象    隐含调用    管道和过滤器

易于改变算法&emsp;&emsp;&emsp;&emsp;1&emsp;&emsp;&emsp;1&emsp;&emsp;&emsp;2&emsp;&emsp;&emsp;&emsp;4&emsp;&emsp;&emsp;&emsp;5

易于改变数据表示&emsp;&emsp;4&emsp;&emsp;&emsp;1&emsp;&emsp;&emsp;5&emsp;&emsp;&emsp;&emsp;4&emsp;&emsp;&emsp;&emsp;1

易于改变功能&emsp;&emsp;&emsp;&emsp;3&emsp;&emsp;&emsp;4&emsp;&emsp;&emsp;1&emsp;&emsp;&emsp;&emsp;3&emsp;&emsp;&emsp;&emsp;5

好的性能&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;3&emsp;&emsp;&emsp;4&emsp;&emsp;&emsp;3&emsp;&emsp;&emsp;&emsp;3&emsp;&emsp;&emsp;&emsp;5

有效的数据表示&emsp;&emsp;&emsp;3&emsp;&emsp;&emsp;5&emsp;&emsp;&emsp;5&emsp;&emsp;&emsp;&emsp;5&emsp;&emsp;&emsp;&emsp;1

易于复用&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;5&emsp;&emsp;&emsp;5&emsp;&emsp;&emsp;5&emsp;&emsp;&emsp;&emsp;5&emsp;&emsp;&emsp;&emsp;5

总计&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;/&emsp;&emsp;&emsp;69&emsp;&emsp;&emsp;74&emsp;&emsp;&emsp;78&emsp;&emsp;&emsp;67


五、 补充和修改自己项目的SAD
项目跟踪，建立能反映项目及小组每个人工作的进度、里程碑、工作量的跟踪图或表，将其保存到每个小组选定的协作开发平台上，每周更新。

详见SAD文档